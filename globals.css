/* ─────────────────────────────────────────────
   globals.css  —  All global styles for the portfolio.

   CUSTOMIZATION: Edit config.js (not this file) to change colors,
   fonts, animations, and features. This file provides fallback
   defaults — config.js overrides them at runtime.
───────────────────────────────────────────── */

@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Barlow:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=Barlow+Condensed:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@300;400;500&display=swap');

/* ── THEME VARIABLES (dark default) ──────────
   These CSS custom properties drive all colors.
   config.js overrides these at runtime via inline styles on <html>.
   The -rgb variants provide R,G,B channels for Tailwind's
   opacity modifier syntax (e.g., bg-skin-text/50).
─────────────────────────────────────────────── */
:root {
  --bg-primary:      #080808;     /* Main page background */
  --bg-secondary:    #0f0f0f;     /* Alternate section backgrounds */
  --bg-tertiary:     #161616;     /* Cards, elevated surfaces */
  --border-primary:  #333;        /* Section borders */
  --border-subtle:   #222;        /* Subtle dividers */
  --border-accent:   #2a2a2a;     /* Accent borders (tags) */
  --text-primary:    #f0ede6;     /* Headings, primary text */
  --text-secondary:  #888;        /* Body text */
  --text-tertiary:   #666;        /* Captions, labels */
  --text-muted:      #444;        /* Ghost/muted elements */
  --text-faint:      #555;        /* Very faint labels */
  --hover-text:      #d8d4cc;     /* Hover state text */
  --btn-bg:          #fff;        /* Primary button background */
  --btn-text:        #080808;     /* Primary button text */
  --btn-hover-bg:    #e8e4dc;     /* Primary button hover */
  --nav-bg:          rgba(18,18,22,0.92); /* Navbar blur background */
  --scrollbar-thumb: #333;        /* Scrollbar thumb color */
  --cursor-color:    rgba(255,255,255,1);   /* Custom cursor color */
  --cursor-ring:     rgba(255,255,255,0.35); /* Cursor crosshair */
  --cursor-ring-hover-bg: rgba(255,255,255,0.04);
  /* RGB channels for Tailwind opacity modifier support */
  --bg-primary-rgb:     8, 8, 8;
  --bg-secondary-rgb:   15, 15, 15;
  --bg-tertiary-rgb:    22, 22, 22;
  --text-primary-rgb:   240, 237, 230;
  --border-primary-rgb: 51, 51, 51;
  --text-muted-rgb:     68, 68, 68;
}

/* ── LIGHT THEME ─────────────────────────────
   Activated by toggling the theme button in the navbar.
   Sets data-theme="light" on <html>.
─────────────────────────────────────────────── */
html[data-theme="light"] {
  --bg-primary:      #f5f3ef;
  --bg-secondary:    #edebe6;
  --bg-tertiary:     #e6e4df;
  --border-primary:  #3a4a6a;
  --border-subtle:   #2a3a5a;
  --border-accent:   #3a4a6a;
  --text-primary:    #0c1a3a;
  --text-secondary:  #2a3f6e;
  --text-tertiary:   #4a5d8a;
  --text-muted:      #7a8ab0;
  --text-faint:      #6678a0;
  --hover-text:      #0c1a3a;
  --btn-bg:          #0c1a3a;
  --btn-text:        #f5f3ef;
  --btn-hover-bg:    #162d5a;
  --nav-bg:          rgba(238,236,230,0.92);
  --scrollbar-thumb: #7a8ab0;
  --cursor-color:    rgba(12,26,58,1);
  --cursor-ring:     rgba(12,26,58,0.25);
  --cursor-ring-hover-bg: rgba(12,26,58,0.04);
  /* RGB channels for Tailwind opacity modifier support */
  --bg-primary-rgb:     245, 243, 239;
  --bg-secondary-rgb:   237, 235, 230;
  --bg-tertiary-rgb:    230, 228, 223;
  --text-primary-rgb:   12, 26, 58;
  --border-primary-rgb: 136, 152, 184;
  --text-muted-rgb:     153, 153, 153;
}

/* ── RESET ─────────────────────────────── */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* ── BASE ──────────────────────────────── */
html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Barlow', sans-serif;
  cursor: none;
  overflow-x: hidden;
  background: var(--bg-primary);
  color: var(--text-primary);
  transition: background 0.3s ease, color 0.3s ease;
}
a, button, [role="button"] {
  cursor: none;
  border-color: var(--border-primary);
  transition: border-color 0.3s ease, color 0.3s ease, background-color 0.3s ease;
}
a:hover, button:hover, [role="button"]:hover {
  background-color: rgba(var(--text-primary-rgb), 0.25);
}
a.nav-link:hover, a.nav-logo:hover {
  background-color: transparent;
}
a.primary-btn:hover {
  background: #1b1c1d !important;
  color: #fff !important;
}
html[data-theme="light"] a.primary-btn:hover {
  background: #223a6c !important;
  color: #fff !important;
}

/* ── FEATURE TOGGLE: Custom Cursor ────────
   Set CONFIG.features.showCursor = false in config.js
   to use the default browser cursor instead.
─────────────────────────────────────────────── */
html.no-custom-cursor body,
html.no-custom-cursor a,
html.no-custom-cursor button,
html.no-custom-cursor [role="button"] {
  cursor: auto;
}

/* ── SCROLLBAR ─────────────────────────── */
::-webkit-scrollbar        { width: 3px; }
::-webkit-scrollbar-thumb  { background: var(--scrollbar-thumb); }
::-webkit-scrollbar-track  { background: var(--bg-primary); }

/* ── GRAIN OVERLAY ────────────────────────
   Film-grain texture effect. Opacity controlled by
   CONFIG.animations.grainOpacity in config.js.
   Disable entirely with CONFIG.features.showGrain = false.
─────────────────────────────────────────────── */
html.no-grain body::after { display: none; }
body::after {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='grain'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23grain)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 200;
  opacity: 0.55;
}

/* ── CURSOR ────────────────────────────── */
.cursor-cross {
  position: fixed;
  top: 0; left: 0;
  pointer-events: none;
  z-index: 9999;
}
.cursor-cross-inner {
  width: 24px; height: 24px;
  transform: translate(-50%, -50%);
  position: relative;
}
.cursor-cross-inner::before,
.cursor-cross-inner::after {
  content: '';
  position: absolute;
  background: var(--cursor-color);
}
.cursor-cross-inner::before { width: 1px; height: 100%; left: 50%; top: 0; transform: translateX(-50%); }
.cursor-cross-inner::after  { width: 100%; height: 1px; top: 50%; left: 0; transform: translateY(-50%); }

.cursor-dot {
  position: fixed; top: 0; left: 0;
  width: 5px; height: 5px;
  border-radius: 50%;
  background: var(--cursor-color);
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 9998;
  transition: left 0.05s, top 0.05s;
}


/* ── PARTICLES CANVAS ──────────────────── */
.particles-canvas {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.25;
}

/* ── SCROLL REVEAL CLASSES ────────────────
   Elements with .rev, .rev-l, or .rev-r start hidden
   and animate in when they enter the viewport.
   Controlled by the useReveal() hook in shared.js.
─────────────────────────────────────────────── */
.rev {
  opacity: 0;
  transform: translateY(28px);
  transition: opacity 0.65s ease, transform 0.65s ease;
}
.rev.on { opacity: 1; transform: translateY(0); }

.rev-l {
  opacity: 0;
  transform: translateX(-22px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}
.rev-l.on { opacity: 1; transform: translateX(0); }

.rev-r {
  opacity: 0;
  transform: translateX(22px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}
.rev-r.on { opacity: 1; transform: translateX(0); }

/* ── TIMELINE FILL ─────────────────────── */
.tl-fill {
  height: 0;
  transition: height 1.8s ease;
}
.tl-fill.on { height: 100%; }

/* ── MARQUEE ──────────────────────────────
   Speed controlled by CONFIG.animations.marqueeSpeed.
   Disable with CONFIG.features.showMarquee = false.
─────────────────────────────────────────────── */
.marquee-track {
  overflow: hidden;
  white-space: nowrap;
}
.marquee-inner {
  display: inline-block;
  white-space: nowrap;
  animation: marquee 18s linear infinite;
}

/* ── DIVIDERS ──────────────────────────── */
.hairline   { border-top: 2px solid var(--border-subtle); }
.hairline-v { border-left: 2px solid var(--border-subtle); }

/* ── NAV LINK UNDERLINE ───────────────── */
.nav-link {
  position: relative;
  padding-bottom: 4px;
}
.nav-link::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--text-primary);
  transition: width 0.3s ease;
}
.nav-link:hover::after {
  width: 100%;
}

/* ── NAV DOT ───────────────────────────── */
.nav-dot {
  width: 4px; height: 4px;
  border-radius: 50%;
  background: var(--text-primary);
  display: inline-block;
}

/* ── TAGS ─────────────────────────────────
   .skill-tag — About section skill pills
   .etag      — Experience primary tags
   .etag-w    — Experience secondary tags
─────────────────────────────────────────────── */
.skill-tag, .etag, .etag-w {
  font-family: 'IBM Plex Mono', monospace;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  padding: 3px 10px;
}
.skill-tag {
  display: inline-block;
  letter-spacing: 0.1em;
  padding: 4px 12px;
  border: 1px solid var(--border-accent);
  color: var(--text-tertiary);
  transition: all 0.2s;
}
.skill-tag:hover {
  border-color: var(--text-primary);
  color: var(--text-primary);
}
.etag {
  border: 1px solid color-mix(in srgb, var(--text-primary) 12%, transparent);
  color: color-mix(in srgb, var(--text-primary) 45%, transparent);
}
.etag-w {
  border: 1px solid var(--border-accent);
  color: var(--text-faint);
}

.ghlink {
  font-family: 'IBM Plex Mono', monospace;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--text-faint);
  transition: color 0.2s;
}
.ghlink:hover { color: var(--text-primary); }

/* ── KEYFRAME ANIMATIONS ───────────────── */
@keyframes fadeUp {
  0%   { opacity: 0; transform: translateY(32px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
  0%   { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes marquee {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0; }
}

@keyframes dotPulse {
  0%, 20% { opacity: 0; }
  40%     { opacity: 1; }
  100%    { opacity: 0; }
}

@keyframes scanV {
  0%   { transform: translateY(-100%); }
  100% { transform: translateY(600%); }
}

@keyframes spinSlow {
  to { transform: rotate(360deg); }
}

/* ── ANIMATION UTILITIES ───────────────── */
.anim-fade-up   { animation: fadeUp 0.7s ease both; }
.anim-fade-up-1 { animation: fadeUp 0.7s 0.10s ease both; }
.anim-fade-up-2 { animation: fadeUp 0.7s 0.20s ease both; }
.anim-fade-up-3 { animation: fadeUp 0.7s 0.35s ease both; }
.anim-fade-up-4 { animation: fadeUp 0.7s 0.50s ease both; }
.anim-fade-up-5 { animation: fadeUp 0.7s 0.65s ease both; }
.anim-fade-late { animation: fadeIn 1s 1.6s ease both; }
.anim-blink     { animation: blink 1.4s ease-in-out infinite; }
.anim-scan-v    { animation: scanV 2.4s linear infinite; }
.anim-bounce    { animation: bounce2 1.6s ease-in-out infinite; }

@keyframes bounce2 {
  0%, 100% { transform: translateY(0); }
  50%       { transform: translateY(7px); }
}

/* ── MOBILE MENU OPEN — lock scroll ────── */
body.menu-open { overflow: hidden; }
